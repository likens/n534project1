<html lang="en">

    <head>
        <title>TypeRacer</title>
        <meta name="viewport" content="width=device-width">
        <meta name="theme-color" content="#000000">
        <meta name="mobile-web-app-capable" content="yes">
        <link href="./assets/css/styles.css" rel="stylesheet">
    </head>

    <body>
        <div class="master">
            <div class="container">
                <div class="main">
                    <div class="title" id="title">
                        <div class="title__type">type racer <div class="title__cursor cursor"></div></div>
                    </div>
                    <div class="leaderboard menu hide" id="leaderboard">
                        <div class="leaderboard__title">Leaderboards</div>
                        <div class="leaderboard__selection">
                            <div class="leaderboard__type">
                                <button class="leaderboard__prev">&lt;</button>
                                <div class="leaderboard__current">Global</div>
                                <button class="leaderboard__next">&gt;</button>
                            </div>
                            <div class="leaderboard__type">
                                <button class="leaderboard__prev">&lt;</button>
                                <div class="leaderboard__current">Home Row</div>
                                <button class="leaderboard__next">&gt;</button>
                            </div>
                            <div class="leaderboard__type">
                                <button class="leaderboard__prev">&lt;</button>
                                <div class="leaderboard__current">Easy</div>
                                <button class="leaderboard__next">&gt;</button>
                            </div>
                            <div class="leaderboard__type">
                                <button class="leaderboard__prev">&lt;</button>
                                <div class="leaderboard__current">Mountain Madness</div>
                                <button class="leaderboard__next">&gt;</button>
                            </div>
                        </div>
                        <ul class="leaderboard__table" id="leaderboardTable">
                            <li class="leaderboard__row">
                                <div class="leaderboard__rank">1</div>
                                <div class="leaderboard__team"></div>
                                <div class="leaderboard__name">tehRAGE</div>
                            </li>
                        </ul>
                        <div class="leaderboard__back">
                            <button class="leaderboard__btn">&lt; Back</button>
                        </div>
                    </div>
                    <div class="story menu hide" id="menuStory">
                        <div class="story__title">in the far future of virtual worlds...</div>
                        <div class="story__content">Professional racing is no longer done with cars, but completed by those who can type on a physical keyboard the fastest. Youâ€™ve proven to be the best touch-typist from your virtual club and are entered into an amateur league to represent your peers. Do you have what it takes to climb the ranks, reach the top, and become a legendary type racer?</div>
                        <div class="story__next">
                            <button class="menu__next">Let's Do This !</button>
                        </div>
                        <div class="story__back">
                            <button class="menu__back">&lt; Back</button>
                        </div>
                    </div>
                    <div class="menus">
                        <div class="menu" id="menuBegin">
                            <ul>
                                <li>
                                    <button class="menu__next">Start</button>
                                </li>
                                <li>
                                    <button>How To Play</button>
                                </li>
                                <li>
                                    <button class="leaderboard__btn">Leaderboards</button>
                                </li>
                                <li>
                                    <button>Reset</button>
                                </li>
                            </ul>
                        </div>
                        <div class="menu menu--racer hide" id="menuRacer">
                            <div class="menu__title">
                                <div class="menu__title-text">Select A Team</div>
                            </div>
                            <ul>
                                <li>
                                    <button class="menu__next qwerty">
                                        <div class="cube">
                                            <div class="one"></div>
                                            <div class="two"></div>
                                            <div class="three"></div>
                                            <div class="four"></div>
                                            <div class="five"></div>
                                            <div class="six"></div>
                                        </div>
                                        Team Qwerty
                                    </button>
                                </li>
                                <li>
                                    <button class="menu__next dvorak">
                                        <div class="cube">
                                            <div class="one"></div>
                                            <div class="two"></div>
                                            <div class="three"></div>
                                            <div class="four"></div>
                                            <div class="five"></div>
                                            <div class="six"></div>
                                        </div>
                                        Team Dvorak
                                    </button>
                                </li>
                                <li>
                                    <button class="menu__next workman">
                                        <div class="cube">
                                            <div class="one"></div>
                                            <div class="two"></div>
                                            <div class="three"></div>
                                            <div class="four"></div>
                                            <div class="five"></div>
                                            <div class="six"></div>
                                        </div>
                                        Team Workman
                                    </button>
                                </li>
                                <li>
                                    <button class="menu__next colemak">
                                        <div class="cube">
                                            <div class="one"></div>
                                            <div class="two"></div>
                                            <div class="three"></div>
                                            <div class="four"></div>
                                            <div class="five"></div>
                                            <div class="six"></div>
                                        </div>
                                        Team Colemak
                                    </button>
                                </li>
                                <li>
                                    <button class="menu__back">&lt; Back</button>
                                </li>
                            </ul>
                        </div>
                        <div class="menu menu--row hide" id="menuRow">
                            <div class="menu__title">
                                <div class="menu__title-text">Select A Key Row</div>
                            </div>
                            <ul>
                                <li>
                                    <button class="menu__next">
                                        <img src="./assets/img/row-home.png" alt="" />
                                        Home Row
                                    </button>
                                </li>
                                <li>
                                    <button class="menu__next">
                                        <img src="./assets/img/row-top.png" alt="" />
                                        Top Row
                                    </button>
                                </li>
                                <li>
                                    <button class="menu__next">
                                        <img src="./assets/img/row-bottom.png" alt="" />
                                        Bottom Row
                                    </button>
                                </li>
                                <li>
                                    <button class="menu__back">&lt; Back</button>
                                </li>
                            </ul>
                        </div>
                        <div class="menu menu--skill hide" id="menuSkill">
                            <div class="menu__title">
                                <div class="menu__title-text">Select A Difficulty</div>
                            </div>
                            <ul>
                                <li>
                                    <button class="menu__next">
                                        <div class="emoticon">(^_^)</div>
                                        Easy
                                    </button>
                                </li>
                                <li>
                                    <button class="menu__next">
                                        <div class="emoticon">(-_-)</div>
                                        Normal
                                    </button>
                                </li>
                                <li>
                                    <button class="menu__next">
                                        <div class="emoticon">(<small>o</small>_<small>o</small>)</div>
                                        Hard
                                    </button>
                                </li>
                                <li>
                                    <button class="menu__next">
                                        <div class="emoticon">(<small>x</small>_<small>x</small>)</div>
                                        Extreme
                                    </button>
                                </li>
                                <li>
                                    <button class="menu__back">&lt; Back</button>
                                </li>
                            </ul>
                        </div>
                        <!-- <div class="menu menu--mode hide" id="menuMode">
                            <div class="menu__title">
                                <div class="menu__title-text">Select A Mode</div>
                            </div>
                            <ul>
                                <li>
                                    <button class="menu__next">Solo</button>
                                </li>
                                <li>
                                    <button class="menu__next">Versus</button>
                                </li>
                                <li>
                                    <button class="menu__next">Practice</button>
                                </li>
                                <li>
                                    <button class="menu__back">&lt; Back</button>
                                </li>
                            </ul>
                        </div> -->
                        <div class="menu menu--track hide" id="menuTrack">
                            <div class="menu__title">
                                <div class="menu__title-text">Select A Track</div>
                            </div>
                            <ul>
                                <li>
                                    <button class="game__start mountain">Mountain Madness</button>
                                </li>
                                <li>
                                    <button class="game__start tropical">Tropical Trouble</button>
                                </li>
                                <li>
                                    <button class="game__start sunset">Sunset Journey</button>
                                </li>
                                <li>
                                    <button class="game__start desert">Desert Drive</button>
                                </li>
                                <li>
                                    <button class="menu__back">&lt; Back</button>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="todo">
                    TODO:
                    <ul>
                        <li>Animate logo</li>
                        <li>select rider?</li>
                        <li>select difficulty? only on races/full word typing?</li>
                        <li>Left/right "letters"</li>
                        <li>Home Row: ASDFJKL;</li>
                        <li>Top Row: QWERTYUIOP</li>
                        <li>Bottom Row: ZXCVBNM,./</li>
                        <li>All Rows</li>
                        <li>Timer, accuracy</li>
                        <li>Sound on/off</li>
                        <li>pause button</li>
                        <li>lives</li>
                        <li>"coins"</li>
                        <li>Win Screen (play again / main menu)</li>
                        <li>Fail Screen (play again / main menu)</li>
                        <li>audio tunes & effects</li>
                        <li>some graphics for polygon vehicles</li>
                        <li>space to "jump" bottom obstacles?</li>
                    </ul>
                </div>
                <!-- <img class="mountain" src="./assets/img/mountain.png" alt="" /> -->
                <div class="game hide">
                    <div class="game__menu">
                        <button>Pause</button>
                        <button>Quit</button>
                    </div>
                    <div class="game__score" id="gameScore">99999999</div>
                </div>
                <div class="graph" id="graph">
                    <div class="lines lines--1"></div>
                    <div class="lines lines--2"></div>
                    <div class="lines lines--3"></div>
                    <div class="lines lines--4"></div>
                    <div class="lines lines--5"></div>
                </div>
                <div class="footer">
                    <div class="version">v0.0.1 alpha</div>
                </div>
                <div class="status">
                    <div id="statusRacer"></div>
                    <div id="statusRow"></div>
                    <div id="statusSkill"></div>
                    <!-- <div id="statusMode"></div> -->
                    <div id="statusTrack"></div>
                </div>
                <div class="scanlines"></div>
            </div>
        </div>
    </body>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const root = document.querySelector(":root");
            const title = document.getElementById("title");
            const graph = document.getElementById("graph");
            const leaderboard = document.getElementById("leaderboard");

            const hide = "hide";

            const leaderboardCategory = ["Global", "Country", "State", "City", "Friends"];
            const leaderboardRows = ["Home Row", "Top Row", "Bottom Row"];
            const leaderboardSkill = ["Easy", "Normal", "Hard", "Extreme"];
            const leaderboardTrack = ["Mountain Madness", "Tropical Trouble", "Sunset Journey", "Desert Drive"];



            let menuIndex = 0;
            const menuStructure = ["begin", "story", "racer", "row", "skill", "track", "game"];
            const menus = [...document.getElementsByClassName("menu")];

            const btnNext = [...document.getElementsByClassName("menu__next")];
            const btnBack = [...document.getElementsByClassName("menu__back")];
            const btnStart = [...document.getElementsByClassName("game__start")];
            const btnLeaderboard = [...document.getElementsByClassName("leaderboard__btn")];

            btnLeaderboard.forEach(btn => {
                btn.addEventListener('click', function() {
                    leaderboard.classList.toggle(hide);
                    document.getElementById("menuBegin").classList.toggle(hide);
                    toggleTitle();
                });
            });

            btnNext.forEach(btn => {
                btn.addEventListener('click', function() {
                    let item = menuStructure[menuIndex];
                    updateStatus(item, btn.textContent.trim());
                    menuIndex++;
                    hideTitle(menuIndex);
                    hideMenus();
                    item = menuStructure[menuIndex];
                    showMenu(item);
                });
            });

            btnBack.forEach(btn => {
                btn.addEventListener('click', function() {
                    let item = menuStructure[menuIndex];
                    menuIndex--;
                    hideTitle(menuIndex);
                    hideMenus();
                    item = menuStructure[menuIndex];
                    updateStatus(item, "");
                    showMenu(item);
                });
            });

            btnStart.forEach(btn => {
                btn.addEventListener('click', function() {
                    document.getElementById("statusTrack").innerText = btn.textContent;
                    hideMenus();
                    graph.classList.add("graph--out");
                    setTimeout(() => {
                        graph.classList.remove("graph--out");
                        graph.classList.add("graph--game");
                        graph.classList.add(`graph--${[...btn.classList][1]}`);
                    }, 2000);
                });
            });

            function updateStatus(item, text) {
                const status = document.getElementById(`status${item[0].toUpperCase() + item.slice(1)}`);
                if (status) {
                    status.innerText = text.includes("_") ? text.substring(5).trim() : text;
                }
            }

            function hideTitle(index) {
                index === 0 ? title.classList.remove(hide) : title.classList.add(hide)
            }

            function toggleTitle() {
                title.classList.toggle(hide);
            }

            function showMenu(item) {
                document.getElementById(`menu${item[0].toUpperCase() + item.slice(1)}`).classList.remove(hide);
            }

            function hideMenus() {
                menus.forEach(menu => menu.classList.add(hide));
            }

        });
    </script>

</html>